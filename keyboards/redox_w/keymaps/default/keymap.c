#include QMK_KEYBOARD_H

// Each layer gets a name for readability, which is then used in the keymap matrix below.
// The underscores don't mean anything - you can have a layer called STUFF or any other name.
// Layer names don't all need to be of the same length, obviously, and you can also skip them
// entirely and just use numbers.
#define _QWERTY 0
#define _SYMB 1
#define _ADJUST 2

enum custom_keycodes {
  QWERTY = SAFE_RANGE,
  SYMB,
  ADJUST,
};

// Shortcut to make keymap more readable
#define SYM_L   MO(_SYMB)
#define RES_L   MO(_ADJUST)

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  [_QWERTY] = LAYOUT(
  //┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐  ┌────────────────────┬──────────────┐
     KC_GRV  ,KC_1    ,KC_2    ,KC_3    ,KC_4    ,KC_5    ,                                            KC_6    ,KC_7    ,KC_8    ,KC_9    ,KC_0    ,KC_MINS ,   KC_MEDIA_PREV_TRACK ,KC_CAPS       ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼──────────────┤
     KC_TAB  ,KC_Q    ,KC_W    ,KC_E    ,KC_R    ,KC_T    ,KC_QUOT ,                          KC_LBRC ,KC_Y    ,KC_U    ,KC_I    ,KC_O    ,KC_P    ,KC_RBRC ,   KC_MEDIA_PLAY_PAUSE ,KC_F13        ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼──────────────┤
     KC_ESC  ,KC_A    ,KC_S    ,KC_D    ,KC_F    ,KC_G    ,KC_PGUP ,                          KC_PGDN ,KC_H    ,KC_J    ,KC_K    ,KC_L    ,KC_SCLN ,KC_NUHS ,   KC_MEDIA_NEXT_TRACK ,KC_F15        ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼──────────────┤
     KC_LSFT ,KC_Z    ,KC_X    ,KC_C    ,KC_V    ,KC_B    ,KC_EQL  , KC_INS ,        KC_HOME ,KC_END  ,KC_N    ,KC_M    ,KC_COMM ,KC_DOT  ,KC_SLSH ,KC_RSFT ,   KC_F16              ,KC_AUDIO_MUTE ,
  //├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤  ├────────────────────┼──────────────┤
     SYM_L   ,KC_NUBS ,KC_LGUI ,KC_LALT ,     KC_LCTL ,    KC_BSPC ,KC_DEL  ,        KC_ENT  ,KC_SPC  ,    KC_RALT ,     KC_LEFT ,KC_DOWN ,KC_UP   ,KC_RGHT ,   KC_F17              ,XXXXXXX
  //└────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘  └────────────────────┴──────────────┘
  ),

  [_SYMB] = LAYOUT(
  //┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐  ┌────────────────────┬────────────────┐
     XXXXXXX ,KC_F1   ,KC_F2   ,KC_F3   ,KC_F4   ,KC_F5   ,                                            KC_F8   ,KC_F9   ,KC_F10  ,KC_F11  ,KC_F12  ,XXXXXXX ,   KC_F18              ,KC_PSCR         ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼────────────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,KC_F6   ,                          KC_F7   ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   KC_F19              ,KC_F14          ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼────────────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                          XXXXXXX ,XXXXXXX ,XXXXXXX	,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   KC_F20              ,KC_CALCULATOR   ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────────────────┼────────────────┤
     _______ ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX	,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   KC_F21              ,_______         ,
  //├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤  ├────────────────────┼────────────────┤
     _______ ,_______ ,_______ ,_______ ,     _______ ,    XXXXXXX ,XXXXXXX ,        _______ ,_______ ,    _______ ,     _______ ,_______ ,_______ ,_______ ,   RES_L               ,XXXXXXX
  //└────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘  └────────────────────┴────────────────┘
  ),

  [_ADJUST] = LAYOUT(
  //┌────────┬────────┬────────┬────────┬────────┬────────┐                                           ┌────────┬────────┬────────┬────────┬────────┬────────┐  ┌────────┬────────┐
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                                            XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   _______ ,DEBUG   ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┐                         ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                          XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   _______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┤                         ├────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,                          XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   _______ ,_______ ,
  //├────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┐       ┌────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤  ├────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   RESET   ,_______ ,
  //├────────┼────────┼────────┼────────┼────┬───┴────┬───┼────────┼────────┤       ├────────┼────────┼───┬────┴───┬────┼────────┼────────┼────────┼────────┤  ├────────┼────────┤
     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,     XXXXXXX ,    XXXXXXX ,XXXXXXX ,        XXXXXXX ,XXXXXXX ,    XXXXXXX ,     XXXXXXX ,XXXXXXX ,XXXXXXX ,XXXXXXX ,   _______ ,XXXXXXX
  //└────────┴────────┴────────┴────────┘    └────────┘   └────────┴────────┘       └────────┴────────┘   └────────┘    └────────┴────────┴────────┴────────┘  └────────┴────────┘
  )

};

layer_state_t layer_state_set_user(layer_state_t state) {
  get_highest_layer(state);
  return state;
}

// bitfield expected in the following order: LLAC having B=00, F=01 and D=10 for the LL value
static void render_logo(uint8_t idx) {
    static const char PROGMEM lcd_logo[12][85] = {
        {//LCD_B_L
         // |       BMW LOGO      | SPACE |     LAYER     | SPACE |     CAPS      | SPACE |    CIRCUIT    | SPACE |        CTW          |
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8B, 0x8C, 0x8D, 0x20, 0x97, 0x98, 0x99, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAB, 0xAC, 0xAD, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCB, 0xCC, 0xCD, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_B_L_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8B, 0x8C, 0x8D, 0x20, 0x97, 0x98, 0x99, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAB, 0xAC, 0xAD, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCB, 0xCC, 0xCD, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_B_U
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8B, 0x8C, 0x8D, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAB, 0xAC, 0xAD, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCB, 0xCC, 0xCD, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_B_U_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8B, 0x8C, 0x8D, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAB, 0xAC, 0xAD, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCB, 0xCC, 0xCD, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_F_L
         // |       BMW LOGO      | SPACE |     LAYER     | SPACE |     CAPS      | SPACE |    CIRCUIT    | SPACE |        CTW          |
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8E, 0x8F, 0x90, 0x20, 0x97, 0x98, 0x99, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAE, 0xAF, 0xB0, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCE, 0xCF, 0xD0, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_F_L_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8E, 0x8F, 0x90, 0x20, 0x97, 0x98, 0x99, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAE, 0xAF, 0xB0, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCE, 0xCF, 0xD0, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_F_U
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8E, 0x8F, 0x90, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAE, 0xAF, 0xB0, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCE, 0xCF, 0xD0, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_F_U_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x8E, 0x8F, 0x90, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xAE, 0xAF, 0xB0, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xCE, 0xCF, 0xD0, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_D_L
		 // |       BMW LOGO      | SPACE |     LAYER     | SPACE |     CAPS      | SPACE |    CIRCUIT    | SPACE |        CTW          |
            0x80, 0x81, 0x82, 0x83, 0x20, 0x91, 0x92, 0x93, 0x20, 0x97, 0x98, 0x99, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xB1, 0xB2, 0xB3, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xD1, 0xD2, 0xD3, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_D_L_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x91, 0x92, 0x93, 0x20, 0x97, 0x98, 0x99, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xB1, 0xB2, 0xB3, 0x20, 0xB7, 0xB8, 0xB9, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xD1, 0xD2, 0xD3, 0x20, 0xD7, 0xD8, 0xD9, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_D_U
            0x80, 0x81, 0x82, 0x83, 0x20, 0x91, 0x92, 0x93, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x94, 0x95, 0x96, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xB1, 0xB2, 0xB3, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xB4, 0xB5, 0xB6, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xD1, 0xD2, 0xD3, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xD4, 0xD5, 0xD6, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        },
        {//LCD_D_U_C
            0x80, 0x81, 0x82, 0x83, 0x20, 0x91, 0x92, 0x93, 0x20, 0x88, 0x89, 0x8A, 0x20, 0x85, 0x86, 0x87, 0x20, 0x9B, 0x9C, 0x9D, 0x9E,
            0xA0, 0xA1, 0xA2, 0xA3, 0x20, 0xB1, 0xB2, 0xB3, 0x20, 0xA8, 0xA9, 0xAA, 0x20, 0xA5, 0xA6, 0xA7, 0x20, 0xBB, 0xBC, 0xBD, 0xBE,
            0xC0, 0xC1, 0xC2, 0xC3, 0x20, 0xD1, 0xD2, 0xD3, 0x20, 0xC8, 0xC9, 0xCA, 0x20, 0xC5, 0xC6, 0xC7, 0x20, 0xDB, 0xDC, 0xDD, 0xDE,
            0x20, 0x20, 0x20, 0x20, 0x4A, 0x6F, 0x79, 0x20, 0x69, 0x6E, 0x20, 0x4D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x20, 0x20, 0x20, 0x20, 0x00
        }
    };

    oled_write_P(lcd_logo[idx], false);
}

#ifdef OLED_DRIVER_ENABLE
void oled_task_user(void) {

    uint8_t status = 0;
    /* Set status char bits:
       From MSB, first two are layers. Basic 00, Function 01 and Debug 10
       Next bit is CAPS Lock status
       Last bit is Debug Mode On/Off
    */
    uint8_t layer = (uint8_t)get_highest_layer(layer_state);
    led_t led_state = host_keyboard_led_state();

    status |= (layer << 2);
    status = (status & ~(1 << 1)) | (led_state.caps_lock << 1);
    status = (status & ~(1 << 0)) | (debug_enable << 0);

    // Set cursor position to center logos
    //oled_set_cursor(0, 1);

    // Draw the screen
    render_logo(status);
}
#endif

void encoder_update_user(uint8_t index, bool clockwise) {
    if (index == 0) { /* First encoder */
        if (clockwise) {
            tap_code(KC_AUDIO_VOL_UP);
        } else {
            tap_code(KC_AUDIO_VOL_DOWN);
        }
    }
}

void keyboard_post_init_user(void) {
  // Customise these values to desired behaviour
  debug_enable=false;
  debug_matrix=debug_enable;
  debug_keyboard=debug_enable;
}
